<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Rock Paper Scissors</title>
    </head>
    <script>

        //declare variables that will be used
        const choices = ["rock", "paper", "scissors"];
        //const playerSelection = getPlayerChoice();
        //const computerSelection = getComputerChoice();
        
        //initialize scores
        let computerScore = 0; 
        let playerScore = 0; 
        
        playGame();



        //functions are to follow below

        //when called: plays game, till a participant has 5 points
        function playGame() {
            //let's play until we have a winner. use conditionals to play until a score of 5 is reached
            for (let i = 0; i < 5; i++) {
                playRound(getPlayerChoice(), getComputerChoice());
            }
            if (playerScore > computerScore) {
                console.log("You win the game!");
            } else if (playerScore == computerScore) {
                console.log("It's a tie. Game over!");
            } else {
                console.log("Game over. You lose :(");
            }


            //when called: plays 1 round of rock paper scissor && increases score accordingly 
            function playRound(playerChoice, computerChoice) {
                if ((playerChoice == "rock" && computerChoice == "scissors") ||
                    (playerChoice == "paper" && computerChoice == "rock") ||
                    (playerChoice == "scissors" && computerChoice == "paper")) {
                    console.log("You win!"); //if you win
                    return playerScore++; 
                } else if (playerChoice == computerChoice) {
                    console.log("Tie!") //if you tie
                } else {
                    console.log("You lose!"); //if you lose
                    return computerScore++;
                }
            }            
        }

        //when called: computer choice made in computerSelection
        function getComputerChoice() {
            let selection = Math.floor(Math.random() * choices.length);
            return choices[selection];
        }

        //when called: get player selection 
        function getPlayerChoice() {
            let playerSelection = prompt("Rock, Paper or Scissors?").toLowerCase();
            if (playerSelection == "rock" || playerSelection == "paper" || playerSelection == "scissors")
                return playerSelection;
            else
                console.log("Not a choice");
                return getPlayerChoice();
        }        

    </script>
</html>